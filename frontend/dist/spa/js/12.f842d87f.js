(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{2320:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showHeader?[a("q-card",{staticClass:"q-pa-md q-mb-md no-border-radius q-mb-md ",attrs:{bordered:"",flat:""}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-between q-col-gutter-md"},[a("div",{staticClass:"col "},[a("div",{staticClass:"text-h6 text-bold record-title"},[t._v(t._s(t.$t("user_registration")))])]),a("div",{staticClass:"col-md-auto comp-grid"},[a("div",{},[a("div",{staticClass:"text-center"},[t._v("\n                                "+t._s(t.$t("already_have_an_account"))+"  "),a("q-btn",{attrs:{rounded:!1,"no-caps":"",unelevated:"",color:"primary",icon:"account_box",to:"/"}},[t._v(" "+t._s(t.$t("login")))])],1)])])])])])]:t._e(),a("div",{},[a("div",{staticClass:"container"},[a("div",{staticClass:"row q-col-gutter-md"},[a("div",{staticClass:"col-md-9 col-12 comp-grid"},[a("q-card",{staticClass:"q-pa-md ",attrs:{bordered:"",flat:""}},[a("div",[a("ValidationObserver",{ref:"observer",attrs:{tag:"form"},on:{submit:function(e){return e.preventDefault(),t.startSaveRecord()},reset:t.resetForm},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.invalid;return[a("div",{},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3 col-12"},[t._v("\n                                            "+t._s(t.$t("name"))+" *\n                                        ")]),a("div",{staticClass:"col-sm-9 col-12"},[a("check-duplicate",{attrs:{"check-path":"components_data/user_name_exist/"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("ValidationProvider",{attrs:{rules:{required:!0},name:t.$t("name")},scopedSlots:t._u([{key:"default",fn:function(s){var r=s.errors,i=s.invalid,o=s.validated;return[a("q-input",{ref:"ctrlname",attrs:{outlined:"",dense:"",loading:e.loading,label:t.$t("name"),type:"text",placeholder:t.$t("enter_name"),error:i&&o||e.exist,"error-message":r[0]||t.$t("not_available")},on:{blur:e.check},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})]}}],null,!0)})]}}],null,!0),model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)])]),a("div",{},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3 col-12"},[t._v("\n                                            "+t._s(t.$t("password"))+" *\n                                        ")]),a("div",{staticClass:"col-sm-9 col-12"},[a("ValidationProvider",{attrs:{rules:{required:!0},name:t.$t("password")},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,r=e.invalid,i=e.validated;return[a("q-input",{ref:"ctrlpassword",attrs:{outlined:"",dense:"",label:t.$t("password"),type:t.isPwd?"password":"text",placeholder:t.$t("enter_password"),error:r&&i,"error-message":s[0]},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}],null,!0),model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})]}}],null,!0)})],1)])]),a("div",{},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3 col-12"},[t._v("\n                                            "+t._s(t.$t("confirm_password"))+" *\n                                        ")]),a("div",{staticClass:"col-sm-9 col-12"},[a("ValidationProvider",{attrs:{rules:{required:!0,is:t.formData.password},name:t.$t("confirm_password")},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,r=e.invalid,i=e.validated;return[a("q-input",{ref:"",attrs:{outlined:"",dense:"",type:"password",label:t.$t("confirm_password"),placeholder:t.$t("confirm_password"),error:r&&i,"error-message":s[0]},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}],null,!0),model:{value:t.formData.confirm_password,callback:function(e){t.$set(t.formData,"confirm_password",e)},expression:"formData.confirm_password"}})]}}],null,!0)})],1)])]),a("div",{},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3 col-12"},[t._v("\n                                            "+t._s(t.$t("email"))+" *\n                                        ")]),a("div",{staticClass:"col-sm-9 col-12"},[a("check-duplicate",{attrs:{"check-path":"components_data/user_email_exist/"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("ValidationProvider",{attrs:{rules:{required:!0,email:!0},name:t.$t("email")},scopedSlots:t._u([{key:"default",fn:function(s){var r=s.errors,i=s.invalid,o=s.validated;return[a("q-input",{ref:"ctrlemail",attrs:{outlined:"",dense:"",loading:e.loading,label:t.$t("email"),type:"email",placeholder:t.$t("enter_email"),error:i&&o||e.exist,"error-message":r[0]||t.$t("not_available")},on:{blur:e.check},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})]}}],null,!0)})]}}],null,!0),model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1)])]),t.showSubmitButton?a("div",{staticClass:"text-center q-my-md"},[a("q-btn",{attrs:{rounded:!1,color:"primary","no-caps":"",unelevated:"",type:"submit",disabled:s,icon:"send",loading:t.saving}},[a("q-spinner-oval",{attrs:{slot:"loading"},slot:"loading"}),t._v(" "+t._s(t.$t("submit"))+"\n                                    ")],1)],1):t._e()]}}])}),t._t("default",null,{submit:t.submit,saving:t.saving})],2)])],1)])])])],2)},r=[],i=(a("e6cf"),a("ded3")),o=a.n(i),n=a("c6e7"),l=a("8f54"),d=a("2f62"),c={name:"RegisterComponent",components:{},mixins:[n["a"],l["a"]],props:{pageName:{type:String,default:"user"},routeName:{type:String,default:"useruserregister"},apiPath:{type:String,default:"auth/register"}},data(){return{formData:{name:"",password:"",confirm_password:"",email:""}}},computed:{pageTitle:{get:function(){return this.$t("add_new_user")}}},meta(){return{title:this.pageTitle}},methods:o()(o()({},Object(d["b"])("user",["saveRecord"])),{},{async startSaveRecord(){const t=await this.$refs.observer.validate();if(t){this.saving=!0;let t=this.normalizedFormData(),e=this.apiUrl,a={url:e,payload:t};this.saveRecord(a).then((t=>{this.saving=!1,this.resetForm();let e=t.data;e.token&&e.user?(this.$localStore.saveLoginData(e,!1),window.location="/"):(this.flashMsg(e.message),this.navigateTo(e.nextpage))}),(t=>{this.saving=!1,this.showPageRequestError(t)}))}},resetForm(){this.formData={name:"",password:"",confirm_password:"",email:""},requestAnimationFrame((()=>{this.$refs.observer.reset()})),this.$EventBus.$emit("resetForm")}}),mounted:function(){}},u=c,m=a("2877"),f=a("f09f"),p=a("9c40"),v=a("27f9"),_=a("0016"),w=a("1b41"),b=a("eebe"),h=a.n(b),g=Object(m["a"])(u,s,r,!1,null,null,null);e["default"]=g.exports;h()(g,"components",{QCard:f["a"],QBtn:p["a"],QInput:v["a"],QIcon:_["a"],QSpinnerOval:w["a"]})}}]);