(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{b290:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showHeader?[a("q-card",{staticClass:"q-pa-md q-mb-md no-border-radius ",attrs:{bordered:"",flat:""}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-between q-col-gutter-md"},[a("div",{staticClass:"col "},[a("div",{staticClass:"text-h6 text-bold record-title"},[t._v(t._s(t.$t("edit_user")))])])])])])]:t._e(),a("div",{},[a("div",{staticClass:"container"},[a("div",{staticClass:"row q-col-gutter-md"},[a("div",{staticClass:"col-md-9 col-12 comp-grid"},[a("q-card",{staticClass:"q-pa-md ",attrs:{bordered:"",flat:""}},[a("div",[t.loading?a("div",{staticClass:"q-pa-sm text-center"},[a("q-spinner",{attrs:{size:40,color:"accent",indeterminate:""}}),t._v("\n                                Loading...\n                            ")],1):a("div",[a("ValidationObserver",{ref:"observer",attrs:{tag:"form"},on:{submit:function(e){return e.preventDefault(),t.startRecordUpdate()}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.invalid;return[a("div",{},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3 col-12"},[t._v("\n                                                "+t._s(t.$t("name"))+" *\n                                            ")]),a("div",{staticClass:"col-sm-9 col-12"},[a("check-duplicate",{attrs:{"check-path":"components_data/user_name_exist/"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("ValidationProvider",{attrs:{rules:{required:!0},name:t.$t("name")},scopedSlots:t._u([{key:"default",fn:function(s){var r=s.errors,i=s.invalid,n=s.validated;return[a("q-input",{ref:"ctrlname",attrs:{outlined:"",dense:"",loading:e.loading,label:t.$t("name"),type:"text",placeholder:t.$t("enter_name"),error:i&&n||e.exist,"error-message":r[0]||t.$t("not_available")},on:{blur:e.check},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})]}}],null,!0)})]}}],null,!0),model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)])]),t.showSubmitButton?a("div",{staticClass:"text-center q-my-md"},[a("q-btn",{attrs:{rounded:!1,color:"primary","no-caps":"",unelevated:"",type:"submit",disabled:s,icon:"send",loading:t.saving}},[a("q-spinner-oval",{attrs:{slot:"loading"},slot:"loading"}),t._v(" "+t._s(t.$t("update"))+"\n                                        ")],1)],1):t._e()]}}],null,!1,3153432049)}),t._t("default",null,{submit:t.submit,saving:t.saving})],2)])])],1)])])])],2)},r=[],i=(a("e6cf"),a("ded3")),n=a.n(i),o=a("c6e7"),d=a("b858"),l=a("2f62"),c={name:"editUserPage",components:{},mixins:[o["a"],d["a"]],props:{pageName:{type:String,default:"user"},routeName:{type:String,default:"useredit"},apiPath:{type:String,default:"user/edit"}},data(){return{formData:{name:""}}},computed:{pageTitle:{get:function(){return this.$t("edit_user")}}},meta(){return{title:this.pageTitle}},methods:n()(n()({},Object(l["b"])("user",["updateRecord","fetchRecord"])),{},{async startRecordUpdate(){const t=await this.$refs.observer.validate();if(t){this.saving=!0;let t=this.id,e=this.apiUrl,a=this.normalizedFormData(),s={id:t,url:e,payload:a};this.updateRecord(s).then((t=>{this.saving=!1,this.flashMsg(this.msgAfterUpdate),this.resetForm(),this.closeDialogs(),this.navigateTo("/user")}),(t=>{this.saving=!1,this.showPageRequestError(t)}))}},updateFormFields:function(){},resetForm(){this.formData={name:""},requestAnimationFrame((()=>{this.$refs.observer.reset()})),this.$EventBus.$emit("resetForm")}})},u=c,m=a("2877"),p=a("f09f"),v=a("27f9"),f=a("9c40"),h=a("1b41"),b=a("0d59"),g=a("eebe"),_=a.n(g),q=Object(m["a"])(u,s,r,!1,null,null,null);e["default"]=q.exports;_()(q,"components",{QCard:p["a"],QInput:v["a"],QBtn:f["a"],QSpinnerOval:h["a"],QSpinner:b["a"]})}}]);